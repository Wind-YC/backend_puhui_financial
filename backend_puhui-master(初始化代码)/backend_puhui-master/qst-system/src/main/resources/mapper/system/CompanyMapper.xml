<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.qst.system.mapper.CompanyMapper">

    <resultMap type="Company" id="CompanyResult">
        <result property="comId" column="com_id"/>
        <result property="comNo" column="com_no"/>
        <result property="comName" column="com_name"/>
        <result property="comEmail" column="com_email"/>
        <result property="comPhone" column="com_phone"/>
        <result property="comPwd" column="com_pwd"/>
        <result property="comRemark" column="com_remark"/>
        <result property="comStatus" column="com_status"/>
        <result property="comDel" column="com_del"/>
    </resultMap>

    <sql id="selectCompanyVo">
        select com_id,
               com_no,
               com_name,
               com_email,
               com_phone,
               com_pwd,
               com_remark,
               com_status,
               com_del
        from company
    </sql>

    <select id="selectCompanyCount" resultType="java.lang.Integer">
        select count(com_id) from company where com_del = 0
    </select>
    <select id="selectCompanyList" resultMap="CompanyResult">
        <include refid="selectCompanyVo" />
        <where>
            com_del = 0
            <if test="comNo != null  and comNo != ''">and com_no = #{comNo}</if>
            <if test="comName != null  and comName != ''">and com_name like concat('%', #{comName}, '%')</if>
            <if test="comEmail != null  and comEmail != ''">and com_email = #{comEmail}</if>
            <if test="comPhone != null  and comPhone != ''">and com_phone = #{comPhone}</if>
            <if test="comPwd != null  and comPwd != ''">and com_pwd = #{comPwd}</if>
            <if test="comRemark != null  and comRemark != ''">and com_remark = #{comRemark}</if>
            <if test="comStatus != null  and comStatus != ''">and com_status = #{comStatus}</if>
            <if test="comDel != null  and comDel != ''">and com_del = #{comDel}</if>
        </where>
        order by com_no
    </select>
</mapper>